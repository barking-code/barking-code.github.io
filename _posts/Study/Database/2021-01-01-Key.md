---
layout: post
title: "Key"
categories:
  - Study
  - Database
tags:
  - Database
created_at: 2021-01-01T19:27:00+09:00
modified_at: 2021-01-01T19:27:00+09:00
visible: true
---

## Key란?

* 테이블 내의 레코드를 구별할 수 있는 식별자를 의미한다.(유일성)

  ex) 회원 테이블

| 주민등록번호   | 이름   | 전화번호      | 거주지     |
| -------------- | ------ | ------------- | ---------- |
| 940510-1xxxxxx | 나머머 | 010-0000-0000 | 대전광역시 |
| 970222-2xxxxxx | 김머머 | 010-0000-0000 | 대전광역시 |
| 001201-4xxxxxx | 김머머 | 010-0000-0000 | 서울특별시 |

위 테이블에서 각 레코드를 구별할 수 있는 식별자는 주민등록번호, 전화번호 이다



## Key의 종류

### 후보키

* 테이블 내의 레코드를 구별할 수 있는 모든 Key
* 위 예시에서 주민등록번호, 전화번호



### 기본키

* 해당 레코드를 대표할 수 있는 Key

* 후보키에서 최소성을 만족하는 1가지를 선정한다.

  * 최소성: 레코드를 구분짓기 위한 최소한의 속성만이 포함되어야 한다.

    ex) 주민번호, 전화번호는 최소성 만족 (주민번호, 전화번호), (주민번호, 이름) 등은 최소성을 만족하지 않음

* 위 예시에서 전화번호는 언제든지 변경이 가능하므로 주민등록번호가 기본키로 가장 적절하다



### 대체키

* 후보키에서 기본키를 제외한 나머지



### 복합키

* 여러 개의 속성을 조합하여 하나의 후보키가 되는 경우

  ex) 교수-학생 관계테이블

  | 교수 번호 | 학생 번호 | 담당일자   | 현재 담당유무 |
  | --------- | --------- | ---------- | ------------- |
  | 1111      | 2111      | 2020-01-01 | FALSE         |
  | 1111      | 2112      | 2020-01-01 | TRUE          |
  | 1112      | 2111      | 2021-01-01 | TRUE          |

  * 교수 번호, 학생 번호, 담당일자, 현재 담당유무 로는 특정 레코드를 식별할 수 없다
  * 여기서 (교수 번호-학생 번호)의 복합키로 레코드 식별이 가능하다.



### 슈퍼키

* 유일성은 만족하지만 최소성은 만족하지 않는 키

  ex) (주민번호, 전화번호), (주민번호, 이름)



### 대체키

* 기본키로 사용하기 위한 적절한 key가 존재하지 않는 경우 임의로 생성하여 사용하는 key
  * 위의 회원 테이블에서 사실은 주민번호도 변경이 가능하다. 또한 주민번호가 그 회원을 명확히 대표하진 않음(주민번호가 바뀌어도 같은 사람임)
  * 이럴 경우 임의의 속성을 생성해 key로 지정하여 대체키로 사용한다.(회원번호 등)



### 외래키

* 레코드가 다른 테이블의 레코드를 참조하는 경우 해당 레코드의 기본키를 외래키로 갖는다.
* 위의 교수-학생 테이블에서 교수번호는 교수 테이블의 기본키, 학생번호는 학생 테이블의 기본키이고 교수-학생 테이블에서는 외래키이다.

